var hasTouch="ontouchend"in window,eventTimer,moveDirection="undefined",startX,startY,deltaX,deltaY,mouseDown=!1;function addTouchEvents(d){hasTouch&&(d.addEventListener("touchstart",touch2Mouse,!0),d.addEventListener("touchmove",touch2Mouse,!0),d.addEventListener("touchend",touch2Mouse,!0))}
function touch2Mouse(d){var a=d.changedTouches[0],b;switch(d.type){case "touchstart":b="mousedown";break;case "touchend":b="mouseup";break;case "touchmove":b="mousemove";break;default:return}"mousedown"==b&&(eventTimer=(new Date).getTime(),startX=a.clientX,startY=a.clientY,mouseDown=!0);"mouseup"==b&&(500>=(new Date).getTime()-eventTimer?b="click":1E3<(new Date).getTime()-eventTimer&&(b="longclick"),eventTimer=0,mouseDown=!1);"mousemove"==b&&mouseDown&&(deltaX=a.clientX-startX,deltaY=a.clientY-startY,
moveDirection=deltaX>deltaY?"horizontal":"vertical");var c=document.createEvent("MouseEvent");c.initMouseEvent(b,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(c);d.preventDefault()};(function(d){d.widget("metro.accordion",{version:"1.0.0",options:{closeAny:!0,open:function(a){},action:function(a){}},_frames:{},_create:function(){var a=this.element;void 0!=a.data("closeany")&&(this.options.closeAny=a.data("closeany"));this._frames=a.children(".accordion-frame");this.init()},init:function(){var a=this;this._frames.each(function(){var b=this,c=d(this).children(".heading"),e=d(this).children(".content");d(c).hasClass("active")&&!d(c).attr("disabled")&&"none"!=d(c).data("action")?
(d(e).show(),d(c).removeClass("collapsed")):d(c).addClass("collapsed");c.on("click",function(c){c.preventDefault();d(this).attr("disabled")||"none"==d(this).data("action")||(a.options.closeAny&&a._closeFrames(),d(e).is(":hidden")?(d(e).slideDown(),d(this).removeClass("collapsed"),a._trigger("frame",c,{frame:b}),a.options.open(b)):(d(e).slideUp(),d(this).addClass("collapsed")),a.options.action(b))})})},_closeFrames:function(){this._frames.children(".content").slideUp().parent().children(".heading").addClass("collapsed")},
_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=accordion]").accordion()});function reinitAccordions(){$("[data-role=accordion]").accordion()};(function(d){d.widget("metro.buttonset",{version:"1.0.0",options:{click:function(a,b){}},_buttons:{},_create:function(){this._buttons=this.element.find("button, .button");this.init()},init:function(){var a=this;this._buttons.each(function(){var b=d(this);b.on("click",function(c){c.preventDefault();b.toggleClass("active");a.options.click(b,b.hasClass("active"));a._trigger("click",event,{button:b,on:b.hasClass("active")})})})},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",
a,b)}})})(jQuery);
(function(d){d.widget("metro.buttongroup",{version:"1.0.0",options:{click:function(a,b){}},_buttons:{},_create:function(){this._buttons=this.element.find("button, .button");this.init()},init:function(){var a=this;this._buttons.each(function(){var b=d(this);b.on("click",function(c){c.preventDefault();a._buttons.removeClass("active");b.addClass("active");a.options.click(b,b.hasClass("active"));a._trigger("click",event,{button:b,on:b.hasClass("active")})})})},_destroy:function(){},_setOption:function(a,
b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=button-set]").buttonset();$("[data-role=button-group]").buttongroup()});function reinitButtonSets(){$("[data-role=button-set]").buttonset();$("[data-role=button-group]").buttongroup()};var dateFormat=function(){var d=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,b=/[^-+\dA-Z]/g,c=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(e,f,g){var h=dateFormat;1!=arguments.length||("[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e))||(f=e,e=void 0);e=e?new Date(e):new Date;f=String(h.masks[f]||
f||h.masks["default"]);"UTC:"==f.slice(0,4)&&(f=f.slice(4),g=!0);var k=g?"getUTC":"get",l=e[k+"Date"](),s=e[k+"Day"](),m=e[k+"Month"](),p=e[k+"FullYear"](),n=e[k+"Hours"](),t=e[k+"Minutes"](),u=e[k+"Seconds"](),k=e[k+"Milliseconds"](),r=g?0:e.getTimezoneOffset(),q={d:l,dd:c(l),ddd:h.i18n.dayNames[s],dddd:h.i18n.dayNames[s+7],m:m+1,mm:c(m+1),mmm:h.i18n.monthNames[m],mmmm:h.i18n.monthNames[m+12],yy:String(p).slice(2),yyyy:p,h:n%12||12,hh:c(n%12||12),H:n,HH:c(n),M:t,MM:c(t),s:u,ss:c(u),l:c(k,3),L:c(99<
k?Math.round(k/10):k),t:12>n?"a":"p",tt:12>n?"am":"pm",T:12>n?"A":"P",TT:12>n?"AM":"PM",Z:g?"UTC":(String(e).match(a)||[""]).pop().replace(b,""),o:(0<r?"-":"+")+c(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),S:["th","st","nd","rd"][3<l%10?0:(10!=l%100-l%10)*l%10]};return f.replace(d,function(a){return a in q?q[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(d,a){return dateFormat(this,d,a)};(function(d){d.widget("metro.calendar",{version:"1.0.0",options:{format:"yyyy-mm-dd",multiSelect:!1,startMode:"day",months:"January; February;March;April;May;June;July;August;September;October;November;December".split(";"),monthsShort:"Jan; Feb;Mar;Apr;May;Jun;Jul;Aug;Sep;Oct;Nov;Dec".split(";"),weekDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),buttonsNames:["Today","Clear"],date:new Date,buttons:!0,getDates:function(a){},click:function(a,b){},_storage:[]},_year:0,_month:0,_day:0,_today:new Date,
_mode:"day",_distance:0,_events:[],_create:function(){var a=this.element;void 0!=a.data("multiSelect")&&(this.options.multiSelect=a.data("multiSelect"));void 0!=a.data("format")&&(this.options.format=a.data("format"));void 0!=a.data("date")&&(this.options.date=new Date(a.data("date")));void 0!=a.data("months")&&(this.options.months=a.data("months"));void 0!=a.data("weekDays")&&(this.options.weekDays=a.data("weekDays"));void 0!=a.data("startMode")&&(this.options.startMode=a.data("startMode"));this._year=
this.options.date.getFullYear();this._distance=parseInt(this.options.date.getFullYear())-4;this._month=this.options.date.getMonth();this._day=this.options.date.getDate();this._mode=this.options.startMode;a.data("_storage",[]);this._renderCalendar()},_renderMonth:function(){var a=this._year,b=this._month,c=28;1==b&&(0!=a%100&&0==a%4||0==a%400)&&(c=29);var c=["31",""+c+"","31","30","31","30","31","31","30","31","30","31"][b],e=(new Date(a,b,1)).getDay(),f,g,h;this.element.html("");f=d("<table/>").addClass("bordered");
g=d("<tr/>");d("<td/>").addClass("text-center").html("<a class='btn-previous-year' href='#'><i class='icon-previous'></i></a>").appendTo(g);d("<td/>").addClass("text-center").html("<a class='btn-previous-month' href='#'><i class='icon-arrow-left-4'></i></a>").appendTo(g);d("<td/>").attr("colspan",3).addClass("text-center").html("<a class='btn-select-month' href='#'>"+this.options.months[b]+" "+a+"</a>").appendTo(g);d("<td/>").addClass("text-center").html("<a class='btn-next-month' href='#'><i class='icon-arrow-right-4'></i></a>").appendTo(g);
d("<td/>").addClass("text-center").html("<a class='btn-next-year' href='#'><i class='icon-next'></i></a>").appendTo(g);g.addClass("calendar-header").appendTo(f);g=d("<tr/>");for(h=0;7>h;h++)d("<td/>").addClass("text-center day-of-week").html(this.options.weekDays[h]).appendTo(g);g.addClass("calendar-subheader").appendTo(f);g=d("<tr/>");for(h=0;h<e;h++)d("<td/>").addClass("empty").html("").appendTo(g);var k=e;for(h=1;h<=c;h++){k%=7;0==k&&(g.appendTo(f),g=d("<tr/>"));e=d("<td/>").addClass("text-center day").html("<a href='#'>"+
h+"</a>");a==this._today.getFullYear()&&(b==this._today.getMonth()&&this._today.getDate()==h)&&e.addClass("today");var l=(new Date(this._year,this._month,h)).format("yyyy-mm-dd");0<=this.element.data("_storage").indexOf(l)&&e.find("a").addClass("selected");e.appendTo(g);k++}for(h=k+1;7>=h;h++)d("<td/>").addClass("empty").html("").appendTo(g);g.appendTo(f);this.options.buttons&&(g=d("<tr/>").addClass("calendar-actions"),e=d("<td/>").attr("colspan",7).addClass("text-left").html("<button class='button calendar-btn-today small success'>"+
this.options.buttonsNames[0]+"</button>&nbsp;<button class='button calendar-btn-clear small warning'>"+this.options.buttonsNames[1]+"</button>"),e.appendTo(g),g.appendTo(f));f.appendTo(this.element);this.options.getDates(this.element.data("_storage"))},_renderMonths:function(){var a,b,c,e,f;this.element.html("");a=d("<table/>").addClass("bordered");b=d("<tr/>");d("<td/>").addClass("text-center").html("<a class='btn-previous-year' href='#'><i class='icon-arrow-left-4'></i></a>").appendTo(b);d("<td/>").attr("colspan",
2).addClass("text-center").html("<a class='btn-select-year' href='#'>"+this._year+"</a>").appendTo(b);d("<td/>").addClass("text-center").html("<a class='btn-next-year' href='#'><i class='icon-arrow-right-4'></i></a>").appendTo(b);b.addClass("calendar-header").appendTo(a);b=d("<tr/>");for(e=f=0;12>e;e++)c=d("<td/>").addClass("text-center month").html("<a href='#' data-month='"+e+"'>"+this.options.monthsShort[e]+"</a>"),this._month==e&&(new Date).getFullYear()==this._year&&c.addClass("today"),c.appendTo(b),
0==(f+1)%4&&(b.appendTo(a),b=d("<tr/>")),f+=1;a.appendTo(this.element)},_renderYears:function(){var a,b,c,e,f;this.element.html("");a=d("<table/>").addClass("bordered");b=d("<tr/>");d("<td/>").addClass("text-center").html("<a class='btn-previous-year' href='#'><i class='icon-arrow-left-4'></i></a>").appendTo(b);d("<td/>").attr("colspan",2).addClass("text-center").html(this._distance+"-"+(this._distance+11)).appendTo(b);d("<td/>").addClass("text-center").html("<a class='btn-next-year' href='#'><i class='icon-arrow-right-4'></i></a>").appendTo(b);
b.addClass("calendar-header").appendTo(a);b=d("<tr/>");f=0;for(e=this._distance;e<this._distance+12;e++)c=d("<td/>").addClass("text-center year").html("<a href='#' data-year='"+e+"'>"+e+"</a>"),(new Date).getFullYear()==e&&c.addClass("today"),c.appendTo(b),0==(f+1)%4&&(b.appendTo(a),b=d("<tr/>")),f+=1;a.appendTo(this.element)},_renderCalendar:function(){switch(this._mode){case "year":this._renderYears();break;case "month":this._renderMonths();break;default:this._renderMonth()}this._initButtons()},
_initButtons:function(){var a=this,b=this.element.find("table");"day"==this._mode?(b.find(".btn-select-month").on("click",function(b){b.preventDefault();b.stopPropagation();a._mode="month";a._renderCalendar()}),b.find(".btn-previous-month").on("click",function(b){b.preventDefault();b.stopPropagation();a._month-=1;0>a._month&&(a._year-=1,a._month=11);a._renderCalendar()}),b.find(".btn-next-month").on("click",function(b){b.preventDefault();b.stopPropagation();a._month+=1;12==a._month&&(a._year+=1,a._month=
0);a._renderCalendar()}),b.find(".btn-previous-year").on("click",function(b){b.preventDefault();b.stopPropagation();a._year-=1;a._renderCalendar()}),b.find(".btn-next-year").on("click",function(b){b.preventDefault();b.stopPropagation();a._year+=1;a._renderCalendar()}),b.find(".calendar-btn-today").on("click",function(b){b.preventDefault();b.stopPropagation();a.options.date=new Date;a._year=a.options.date.getFullYear();a._month=a.options.date.getMonth();a._day=a.options.date.getDate();a._renderCalendar()}),
b.find(".calendar-btn-clear").on("click",function(b){b.preventDefault();b.stopPropagation();a.options.date=new Date;a._year=a.options.date.getFullYear();a._month=a.options.date.getMonth();a._day=a.options.date.getDate();a.element.data("_storage",[]);a._renderCalendar()}),b.find(".day a").on("click",function(c){c.preventDefault();c.stopPropagation();c=(new Date(a._year,a._month,parseInt(d(this).html()))).format(a.options.format);var e=new Date(a._year,a._month,parseInt(d(this).html()));a.options.multiSelect?
(d(this).toggleClass("selected"),d(this).hasClass("selected")?a._addDate(c):a._removeDate(c)):(b.find(".day a").removeClass("selected"),d(this).addClass("selected"),a.element.data("_storage",[]),a._addDate(c));a.options.getDates(a.element.data("_storage"));a.options.click(c,e)})):"month"==this._mode?(b.find(".month a").on("click",function(b){b.preventDefault();b.stopPropagation();a._month=parseInt(d(this).data("month"));a._mode="day";a._renderCalendar()}),b.find(".btn-previous-year").on("click",function(b){b.preventDefault();
b.stopPropagation();a._year-=1;a._renderCalendar()}),b.find(".btn-next-year").on("click",function(b){b.preventDefault();b.stopPropagation();a._year+=1;a._renderCalendar()}),b.find(".btn-select-year").on("click",function(b){b.preventDefault();b.stopPropagation();a._mode="year";a._renderCalendar()})):(b.find(".year a").on("click",function(b){b.preventDefault();b.stopPropagation();a._year=parseInt(d(this).data("year"));a._mode="month";a._renderCalendar()}),b.find(".btn-previous-year").on("click",function(b){b.preventDefault();
b.stopPropagation();a._distance-=10;a._renderCalendar()}),b.find(".btn-next-year").on("click",function(b){b.preventDefault();b.stopPropagation();a._distance+=10;a._renderCalendar()}))},_addDate:function(a){0>this.element.data("_storage").indexOf(a)&&this.element.data("_storage").push(a)},_removeDate:function(a){a=this.element.data("_storage").indexOf(a);this.element.data("_storage").splice(a,1)},setDate:function(a){a=new Date(a);a=(new Date(a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate())).format("yyyy-mm-dd");
this._addDate(a);this._renderCalendar()},getDate:function(a){return(new Date(void 0!=a?this.element.data("_storage")[a]:this.element.data("_storage")[0])).format(this.options.format)},getDates:function(){return this.element.data("_storage")},unsetDate:function(a){a=new Date(a);a=(new Date(a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate())).format("yyyy-mm-dd");this._removeDate(a);this._renderCalendar()},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=calendar]").calendar()});
function reinitCalendars(){$("[data-role=calendar]").calendar()};(function(d){d.widget("metro.datepicker",{version:"1.0.0",options:{format:"dd.mm.yyyy",date:void 0,effect:"none",position:"bottom",selected:function(a,b){},_calendar:void 0},_create:function(){var a=this,b=this.element,c=b.children("input"),e=b.children("button.btn-date");void 0!=b.data("date")&&(this.options.date=b.data("date"));void 0!=b.data("format")&&(this.options.format=b.data("format"));void 0!=b.data("effect")&&(this.options.effect=b.data("effect"));void 0!=b.data("position")&&(this.options.position=
b.data("position"));this._createCalendar(b,this.options.date);c.attr("readonly",!0);e.on("click",function(b){b.stopPropagation();"none"==a.options._calendar.css("display")?a._show():a._hide()});b.on("click",function(b){b.stopPropagation();"none"==a.options._calendar.css("display")?a._show():a._hide()});d("html").on("click",function(a){d(".calendar-dropdown").hide()})},_createCalendar:function(a,b){var c,e=this;c=d("<div/>").css({position:"absolute",display:"none","max-width":260,"z-index":1E3}).addClass("calendar calendar-dropdown").appendTo(a);
void 0!=e.options.date&&c.data("date",e.options.date);c.calendar({multiSelect:!1,format:e.options.format,buttons:!1,click:function(b,d){c.calendar("setDate",d);a.children("input[type=text]").val(b);e.options.selected(b,d);e._hide()}});void 0!=b&&(c.calendar("setDate",b),a.children("input[type=text]").val(c.calendar("getDate")));switch(this.options.position){case "top":c.css({top:0-c.height(),left:0});break;default:c.css({top:"100%",left:0})}this.options._calendar=c},_show:function(){"slide"==this.options.effect?
(d(".calendar-dropdown").slideUp("fast"),this.options._calendar.slideDown("fast")):"fade"==this.options.effect?(d(".calendar-dropdown").fadeOut("fast"),this.options._calendar.fadeIn("fast")):(d(".calendar-dropdown").hide(),this.options._calendar.show())},_hide:function(){"slide"==this.options.effect?this.options._calendar.slideUp("fast"):"fade"==this.options.effect?this.options._calendar.fadeOut("fast"):this.options._calendar.hide()},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",
a,b)}})})(jQuery);$(function(){$("[data-role=datepicker]").datepicker()});function reinitDatepickers(){$("[data-role=datepicker]").datepicker()};(function(d){d.widget("metro.carousel",{version:"1.0.0",options:{auto:!0,period:2E3,duration:500,effect:"slowdown",direction:"left",markers:{show:!0,type:"default",position:"left"},controls:!0,stop:!0,width:"100%",height:300},_slides:{},_currentIndex:0,_interval:0,_outPosition:0,_create:function(){var a=this,b=this.options,c=carousel=this.element,d=carousel.find(".controls");void 0!=c.data("auto")&&(b.auto=c.data("auto"));void 0!=c.data("period")&&(b.period=c.data("period"));void 0!=c.data("duration")&&
(b.duration=c.data("duration"));void 0!=c.data("effect")&&(b.effect=c.data("effect"));void 0!=c.data("direction")&&(b.direction=c.data("direction"));void 0!=c.data("width")&&(b.width=c.data("width"));void 0!=c.data("height")&&(b.height=c.data("height"));void 0!=c.data("stop")&&(b.stop=c.data("stop"));void 0!=c.data("controls")&&(b.controls=c.data("controls"));void 0!=c.data("markersShow")&&(b.markers.show=c.data("markersShow"));void 0!=c.data("markersType")&&(b.markers.type=c.data("markersType"));
void 0!=c.data("markersPosition")&&(b.markers.position=c.data("markersPosition"));carousel.css({width:this.options.width,height:this.options.height});this._slides=carousel.find(".slide");if(!(1>=this._slides.length)){!1!==this.options.markers&&(this.options.markers.show&&1<this._slides.length)&&this._markers(a);this.options.controls&&1<this._slides.length?(carousel.find(".controls.left").on("click",function(){a._slideTo("prior")}),carousel.find(".controls.right").on("click",function(){a._slideTo("next")})):
d.hide();if(this.options.stop)carousel.on("mouseenter",function(){clearInterval(a._interval)}).on("mouseleave",function(){a.options.auto&&(a._autoStart(),a.options.period)});this.options.auto&&this._autoStart()}},_autoStart:function(){var a=this;this._interval=setInterval(function(){"left"==a.options.direction?a._slideTo("next"):a._slideTo("prior")},this.options.period)},_slideTo:function(a){var b=this._slides[this._currentIndex];void 0==a&&(a="next");"prior"===a?(this._currentIndex-=1,0>this._currentIndex&&
(this._currentIndex=this._slides.length-1),this._outPosition=this.element.width()):"next"===a&&(this._currentIndex+=1,this._currentIndex>=this._slides.length&&(this._currentIndex=0),this._outPosition=-this.element.width());a=this._slides[this._currentIndex];switch(this.options.effect){case "switch":this._effectSwitch(b,a);break;case "slowdown":this._effectSlowdown(b,a,this.options.duration);break;case "fade":this._effectFade(b,a,this.options.duration);break;default:this._effectSlide(b,a,this.options.duration)}var c=
this;this.element.find(".markers ul li a").each(function(){d(this).data("num")===c._currentIndex?d(this).parent().addClass("active"):d(this).parent().removeClass("active")})},_slideToSlide:function(a){var b=this._slides[this._currentIndex],c=this._slides[a];this._outPosition=a>this._currentIndex?-this.element.width():this.element.width();switch(this.options.effect){case "switch":this._effectSwitch(b,c);break;case "slowdown":this._effectSlowdown(b,c,this.options.duration);break;case "fade":this._effectFade(b,
c,this.options.duration);break;default:this._effectSlide(b,c,this.options.duration)}this._currentIndex=a},_markers:function(a){var b,c,e,f;b=d('<div class="markers '+this.options.markers.type+'" />');c=d("<ul></ul>").appendTo(b);for(f=0;f<this._slides.length;f++)e=d('<li><a href="javascript:void(0)" data-num="'+f+'"></a></li>'),0===f&&e.addClass("active"),e.appendTo(c);c.find("li a").removeClass("active").on("click",function(){var b=d(this),e=b.data("num");c.find("li").removeClass("active");b.parent().addClass("active");
if(e==a._currentIndex)return!0;a._slideToSlide(e);return!0});b.appendTo(this.element);switch(this.options.markers.position){case "top-left":b.css({left:"10px",right:"auto",bottom:"auto",top:"10px"});break;case "top-right":b.css({left:"auto",right:"10px",bottom:"auto",top:"0px"});break;case "top-center":b.css({left:this.element.width()/2-b.width()/2,right:"auto",bottom:"auto",top:"0px"});break;case "bottom-left":b.css({left:"10px",right:"auto"});break;case "bottom-right":b.css({right:"10px",left:"auto"});
break;case "bottom-center":b.css({left:this.element.width()/2-b.width()/2,right:"auto"})}},_effectSwitch:function(a,b){d(a).hide();d(b).css({left:0}).show()},_effectSlide:function(a,b,c){d(a).animate({left:this._outPosition},c);d(b).css("left",-1*this._outPosition).show().animate({left:0},c)},_effectSlowdown:function(a,b,c){c={duration:c,easing:"doubleSqrt"};d.easing.doubleSqrt=function(a){return Math.sqrt(Math.sqrt(a))};d(a).animate({left:this._outPosition},c);d(b).css("left",-1*this._outPosition).show().animate({left:0},
c)},_effectFade:function(a,b,c){d(a).fadeOut(c);d(b).css({left:0}).fadeIn(c)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){reinitCarousels()});function reinitCarousels(){$("[data-role=carousel]").carousel()};(function(d){d.widget("metro.countdown",{version:"1.0.0",options:{style:{background:"bg-dark",foreground:"fg-white",divider:"fg-dark"},blink:!0,days:1,stoptimer:0,ontick:function(a,b,c,d){},onstop:function(){}},wrappers:{},_interval:0,_create:function(){var a=this,b=this.element;d.each(["Days","Hours","Minutes","Seconds"],function(){d('<span class="count'+this+'">').html('<span class="digit-wrapper">                        <span class="digit">0</span>                    </span>                    <span class="digit-wrapper">                        <span class="digit">0</span>                    </span>').appendTo(b);
"Seconds"!=this&&b.append('<span class="divider"></span>')});this.wrappers=this.element.find(".digit-wrapper");void 0!=b.data("blink")&&(this.options.blink=b.data("blick"));void 0!=b.data("styleBackground")&&(this.options.style.background=b.data("styleBackground"));void 0!=b.data("styleForeground")&&(this.options.style.foreground=b.data("styleForeground"));void 0!=b.data("styleDivider")&&(this.options.style.divider=b.data("styleDivider"));"default"!=this.options.style.background&&this.element.find(".digit").addClass(this.options.style.background);
"default"!=this.options.style.foreground&&this.element.find(".digit").addClass(this.options.style.foreground);"default"!=this.options.style.divider&&this.element.find(".divider").addClass(this.options.style.divider);void 0!=b.data("stoptimer")&&(this.options.stoptimer=new Date(b.data("stoptimer")));0==this.options.stoptimer&&(this.options.stoptimer=(new Date).getTime()+864E5*this.options.days);setTimeout(function(){a.tick()},1E3)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",
a,b)},tick:function(){var a=this;this._interval=setInterval(function(){var b,c,d,f;b=Math.floor((a.options.stoptimer-new Date)/1E3);0>b&&(b=0);c=Math.floor(b/86400);a.updateDuo(0,1,c);b-=86400*c;d=Math.floor(b/3600);a.updateDuo(2,3,d);b-=3600*d;f=Math.floor(b/60);a.updateDuo(4,5,f);b-=60*f;a.updateDuo(6,7,b);a.options.ontick(c,d,f,b);a.blinkDivider();0===c&&(0===d&&0===f&&0===b)&&(a.options.onstop(),a.stopDigit(),a._trigger("alarm"),clearInterval(a._interval))},1E3)},blinkDivider:function(){this.options.blink&&
this.element.find(".divider").toggleClass("no-visible")},stopDigit:function(){this.wrappers.each(function(){d(this).children(".digit").addClass("stop")})},updateDuo:function(a,b,c){this.switchDigit(this.wrappers.eq(a),Math.floor(c/10)%10);this.switchDigit(this.wrappers.eq(b),c%10)},switchDigit:function(a,b){var c=a.find(".digit");if(c.is(":animated")||a.data("digit")==b)return!1;a.data("digit",b);var e=d("<span>",{"class":"digit",css:{top:"-2.1em",opacity:0},html:b});e.addClass(this.options.style.background);
e.addClass(this.options.style.foreground);c.before(e).removeClass("static").animate({top:"2.5em"},"fast",function(){c.remove()});e.delay(100).animate({top:0,opacity:1},"fast");return!0}})})(jQuery);$(function(){$("[data-role=countdown]").countdown()});function reinitCountdowns(){$("[data-role=countdown]").countdown()};(function(d){d.widget("metro.dropdown",{version:"1.0.0",options:{effect:"slide"},_create:function(){var a=this,b=this.element,c=this.name,e=this.element.parent().children(".dropdown-toggle");void 0!=b.data("effect")&&(this.options.effect=b.data("effect"));e.on("click."+c,function(c){c.preventDefault();c.stopPropagation();"block"!=b.css("display")||b.hasClass("keep-open")?(d(".dropdown-menu").each(function(c,e){b.parents(".dropdown-menu").is(e)||(d(e).hasClass("keep-open")||"block"!=d(e).css("display"))||
a._close(e)}),a._open(b)):a._close(b)});d(b).find("li.disabled a").on("click",function(a){a.preventDefault()});d("html").on("click",function(b){d(".dropdown-menu").each(function(b,c){d(c).hasClass("keep-open")||"block"!=d(c).css("display")||a._close(c)})})},_open:function(a){switch(this.options.effect){case "fade":d(a).fadeIn("fast");break;case "slide":d(a).slideDown("fast");break;default:d(a).hide()}this._trigger("onOpen",null,a)},_close:function(a){switch(this.options.effect){case "fade":d(a).fadeOut("fast");
break;case "slide":d(a).slideUp("fast");break;default:d(a).hide()}this._trigger("onClose",null,a)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=dropdown]").dropdown()});function reinitDropdowns(){$("[data-role=dropdown]").dropdown()};(function(d){d.widget("metro.inputControl",{version:"1.0.0",options:{},_create:function(){var a=this.element;a.hasClass("text")?this.initTextInput(a,this):a.hasClass("password")?this.initPasswordInput():a.hasClass("checkbox")||a.hasClass("radio")||a.hasClass("switch")?this.initCheckboxInput(a,this):a.hasClass("file")&&this.initFileInput(a,this)},initCheckboxInput:function(a,b){},initFileInput:function(a,b){var c,e,f;f=d("<input type='text' id='__input_file_wrapper__' readonly style='z-index: 1; cursor: default;'>");
c=a.children(".btn-file");e=a.children('input[type="file"]');e.css("z-index",0);f.insertAfter(e);e.attr("tabindex","-1");c.attr("type","button");e.on("change",function(){var a=d(this).val();""!=a&&f.val(a)});c.on("click",function(){e.trigger("click")})},initTextInput:function(a,b){var c,d;c=a.children(".btn-clear");0!=c.length&&(c.attr("tabindex","-1"),c.attr("type","button"),c.on("click",function(){d=a.children("input");d.prop("readonly")||(d.val(""),d.focus(),b._trigger("onClear",null,a))}))},initPasswordInput:function(){var a=
this.element.children(".btn-reveal"),b=this.element.children("input[type=password]");0!=a.length&&(a.attr("tabindex","-1"),a.attr("type","button"),a.on("mousedown",function(a){b.attr("type","text")}),a.on("mouseup, mouseleave",function(a){b.attr("type","password").focus()}))},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=input-control], .input-control").inputControl()});
function reinitInputs(){$("[data-role=input-control], .input-control").inputControl()}
(function(d){d.widget("metro.inputTransform",{version:"1.0.0",options:{transformType:"text"},_create:function(){var a=this.element,b;if(!a.parent().hasClass("input-control")){b=a.get(0).tagName.toLowerCase();"textarea"==b?this.options.transformType="textarea":"select"==b?this.options.transformType="select":void 0!=a.data("transformType")?this.options.transformType=a.data("transformType"):this.options.transformType=a.attr("type");a=void 0;switch(this.options.transformType){case "password":a=this._createInputPassword();
break;case "file":a=this._createInputFile();break;case "checkbox":a=this._createInputCheckbox();break;case "radio":a=this._createInputRadio();break;case "switch":a=this._createInputSwitch();break;case "select":a=this._createInputSelect();break;case "textarea":a=this._createInputTextarea();break;case "search":a=this._createInputSearch();break;case "email":a=this._createInputEmail();break;case "tel":a=this._createInputTel();break;default:a=this._createInputText()}a.inputControl()}},_createInputTextarea:function(){var a=
this.element,b=d("<div/>").addClass("input-control").addClass("textarea"),c=a.clone(!0),e=a.parent();b.appendTo(e);c.appendTo(b);a.remove();return b},_createInputSelect:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("select"),c=a.clone(!0),e=a.parent();b.appendTo(e);c.val(a.val()).appendTo(b);a.remove();return b},_createInputSwitch:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("switch"),c=d("<label/>"),e=d("<span/>").addClass("check"),
f=a.clone(!0),g=a.parent(),h=d("<span/>").addClass("caption").html(void 0!=a.data("caption")?a.data("caption"):"");b.appendTo(g);c.appendTo(b);f.appendTo(c);e.appendTo(c);h.appendTo(c);a.remove();return b},_createInputCheckbox:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("checkbox"),c=d("<label/>"),e=d("<span/>").addClass("check"),f=a.clone(!0),g=a.parent(),h=d("<span/>").addClass("caption").html(void 0!=a.data("caption")?a.data("caption"):"");b.appendTo(g);c.appendTo(b);
f.appendTo(c);e.appendTo(c);h.appendTo(c);a.remove();return b},_createInputRadio:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("radio"),c=d("<label/>"),e=d("<span/>").addClass("check"),f=a.clone(!0),g=a.parent(),h=d("<span/>").addClass("caption").html(void 0!=a.data("caption")?a.data("caption"):"");b.appendTo(g);c.appendTo(b);f.appendTo(c);e.appendTo(c);h.appendTo(c);a.remove();return b},_createInputSearch:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("text"),
c=d("<button/>").addClass("btn-search"),e=a.clone(!0),f=a.parent();b.appendTo(f);e.appendTo(b);c.appendTo(b);a.remove();return b},_createInputTel:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("tel"),c=d("<button/>").addClass("btn-clear"),e=a.clone(!0),f=a.parent();b.appendTo(f);e.appendTo(b);c.appendTo(b);a.remove();return b},_createInputEmail:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("email"),c=d("<button/>").addClass("btn-clear"),
e=a.clone(!0),f=a.parent();b.appendTo(f);e.appendTo(b);c.appendTo(b);a.remove();return b},_createInputText:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("text"),c=d("<button/>").addClass("btn-clear"),e=a.clone(!0),f=a.parent();b.appendTo(f);e.appendTo(b);c.appendTo(b);a.remove();return b},_createInputPassword:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("password"),c=d("<button/>").addClass("btn-reveal"),e=a.clone(!0),f=a.parent();
b.appendTo(f);e.appendTo(b);c.appendTo(b);a.remove();return b},_createInputFile:function(){var a=this.element,b=d("<div/>").addClass("input-control").addClass("file"),c=d("<button/>").addClass("btn-file"),e=a.clone(!0),f=a.parent();b.appendTo(f);e.appendTo(b);c.appendTo(b);a.remove();return b},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-transform=input-control]").inputTransform()});
function transformInputs(){$("[data-transform=input-control]").inputTransform()};(function(d){d.widget("metro.livetile",{version:"1.0.0",options:{effect:"slideLeft",period:4E3,duration:700,easing:"doubleSqrt"},_frames:{},_currentIndex:0,_interval:0,_outPosition:0,_size:{},_create:function(){var a=this.element;void 0!=a.data("effect")&&(this.options.effect=a.data("effect"));void 0!=a.data("direction")&&(this.options.direction=a.data("direction"));void 0!=a.data("period")&&(this.options.period=a.data("period"));void 0!=a.data("duration")&&(this.options.duration=a.data("duration"));
void 0!=a.data("easing")&&(this.options.easing=a.data("easing"));this._frames=a.children("[class*='-content']");1>=this._frames.length||(d.easing.doubleSqrt=function(a){return Math.sqrt(Math.sqrt(a))},this._size={width:a.width(),height:a.height()},this._start())},_start:function(){var a=this;this._interval=setInterval(function(){a._animate()},this.options.period)},_animate:function(){var a=this._frames[this._currentIndex],b;this._currentIndex+=1;this._currentIndex>=this._frames.length&&(this._currentIndex=
0);b=this._frames[this._currentIndex];switch(this.options.effect){case "slideLeft":this._effectSlideLeft(a,b);break;case "slideRight":this._effectSlideRight(a,b);break;case "slideDown":this._effectSlideDown(a,b);break;case "slideUpDown":this._effectSlideUpDown(a,b);break;case "slideLeftRight":this._effectSlideLeftRight(a,b);break;default:this._effectSlideUp(a,b)}},_effectSlideLeftRight:function(a,b){0==this._currentIndex%2?this._effectSlideLeft(a,b):this._effectSlideRight(a,b)},_effectSlideUpDown:function(a,
b){0==this._currentIndex%2?this._effectSlideUp(a,b):this._effectSlideDown(a,b)},_effectSlideUp:function(a,b){var c=this._size.height,e={duration:this.options.duration,easing:this.options.easing};d(a).animate({top:-c},e);d(b).css({top:c}).show().animate({top:0},e)},_effectSlideDown:function(a,b){var c=this._size.height,e={duration:this.options.duration,easing:this.options.easing};d(a).animate({top:c},e);d(b).css({top:-c}).show().animate({top:0},e)},_effectSlideLeft:function(a,b){var c=this._size.width,
e={duration:this.options.duration,easing:this.options.easing};d(a).animate({left:-1*c},e);d(b).css({left:c}).show().animate({left:0},e)},_effectSlideRight:function(a,b){var c=this._size.width,e={duration:this.options.duration,easing:this.options.easing};d(a).animate({left:c},e);d(b).css({left:-c}).show().animate({left:0},e)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=live-tile], [data-role=live]").livetile()});
function reinitLives(){$("[data-role=live-tile], [data-role=live]").livetile()};(function(d){d.widget("metro.progressbar",{version:"1.0.0",options:{value:0,color:"bg-cyan",animate:!1,onchange:function(a){}},_create:function(){var a=this.element;void 0!=a.data("value")&&this.value(a.data("value")+"%");void 0!=a.data("color")&&(this.options.color=a.data("color"));void 0!=a.data("animate")&&(this.options.animate=a.data("animate"));this._showBar()},_showBar:function(){var a=this.element;a.html("");var b=d("<div />");b.addClass("bar");this.options.color.indexOf("bg-")+1?b.addClass(this.options.color):
b.css("background",this.options.color);b.appendTo(a);this.options.animate?b.animate({width:this.value()+"%"}):b.css("width",this.value()+"%");this.options.onchange(this.value())},value:function(a){if(void 0!=a)this.options.value=parseInt(a),this._showBar();else return parseInt(this.options.value)},color:function(a){this.options.color=a;this.options.color.indexOf("bg-")+1?this.element.find(".bar").addClass(this.options.color):this.element.find(".bar").css("background",this.options.color);this._showBar()},
_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=progress-bar]").progressbar()});function reinitProgreeBars(){$("[data-role=progress-bar]").progressbar()};(function(d){d.widget("metro.rating",{version:"1.0.0",options:{score:0,half:!1,stars:5,"static":!0,hints:["bad","poor","regular","good","gorgeous"],showHint:!1,showScore:!1,scoreHint:"Current score: ",click:function(a,b){}},_create:function(){var a=this.element;void 0!=a.data("score")&&(this.options.score=a.data("score"));void 0!=a.data("half")&&(this.options.half=a.data("half"));void 0!=a.data("stars")&&(this.options.stars=a.data("stars"));void 0!=a.data("showHint")&&(this.options.showHint=a.data("showHint"));
void 0!=a.data("static")&&(this.options.static=a.data("static"));void 0!=a.data("showScore")&&(this.options.showScore=a.data("showScore"));void 0!=a.data("scoreHint")&&(this.options.scoreHint=a.data("scoreHint"));this._showRating()},rate:function(a){this.options.score=a;this._showRating()},_showRating:function(){var a=this,b=this.element,c=this.options,e,f;b.addClass("rating");b.html("");e=d("<ul/>");c.static||b.addClass("active");for(var g=0;g<c.stars;g++)f=d("<li/>"),f.data("value",g+1),c.showHint&&
f.attr("title",c.hints[g]),g<=c.score-1&&f.addClass("rated"),f.on("click",function(){c.click(d(this).data("value"),a)}),f.appendTo(e);e.appendTo(b);c.showScore?(d("<span/>").addClass("score-hint").html(c.scoreHint+c.score).appendTo(b),b.css("height","auto")):b.find("ul").css("margin-bottom",0)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=rating]").rating()});function reinitRatings(){$("[data-role=rating]").rating()};(function(d){d.widget("metro.slider",{version:"1.0.0",options:{position:0,accuracy:0,color:"default",completeColor:"default",markerColor:"default",colors:[],showHint:!1,change:function(a,b){},changed:function(a,b){},_slider:{vertical:!1,offset:0,length:0,marker:0,ppp:0,start:0,stop:0}},_create:function(){var a=this,b=this.element,c=this.options,d=this.options._slider;void 0!=b.data("accuracy")&&(c.accuracy=0<b.data("accuracy")?b.data("accuracy"):0);void 0!=b.data("position")&&(c.position=this._correctValue(0<
b.data("position")?100<b.data("position")?100:b.data("position"):0));void 0!=b.data("color")&&(c.color=b.data("color"));void 0!=b.data("completeColor")&&(c.completeColor=b.data("completeColor"));void 0!=b.data("markerColor")&&(c.markerColor=b.data("markerColor"));void 0!=b.data("colors")&&(c.colors=b.data("colors").split(","));void 0!=b.data("showHint")&&(c.showHint=b.data("showHint"));d.vertical=b.hasClass("vertical");this._createSlider();this._initPoints();this._placeMarker(c.position);addTouchEvents(b[0]);
b.children(".marker").on("mousedown",function(b){b.preventDefault();a._startMoveMarker(b)});b.on("mousedown",function(b){b.preventDefault();a._startMoveMarker(b)})},_startMoveMarker:function(a){var b=this.element,c=this.options,e=this,f=b.children(".hint");d(b).on("mousemove",function(a){e._movingMarker(a);b.hasClass("permanent-hint")||f.css("display","block")});d(b).on("mouseup",function(){d(b).off("mousemove");b.off("mouseup");b.data("value",e.options.position);b.trigger("changed",e.options.position);
c.changed(e.options.position,b);b.hasClass("permanent-hint")||f.css("display","none")});this._initPoints();this._movingMarker(a)},_movingMarker:function(a){var b;b=this.options._slider.vertical;var c=this.options._slider.offset,d=this.options._slider.start,f=this.options._slider.stop,g=this.options._slider.length,h=this.options._slider.marker;a=b?a.pageY-c:a.pageX-c;a<d?a=d:a>f&&(a=f);b=this._pixToPerc(b?g-a-h/2:a-h/2);this._placeMarker(b);this.options.position=b;this.options.change(Math.round(b),
this.element)},_placeMarker:function(a){var b,c,d=this.options,f=0,g=f=0,h=this.element.children(".marker"),k=this.element.children(".complete"),l=this.element.children(".hint"),f=d.colors.length,g=d._slider.length/f;this.options._slider.vertical?(b=this._percToPix(a)+this.options._slider.marker,c=this.options._slider.length-b,h.css("top",c),k.css("height",b),f&&(f=Math.round(b/g)-1,k.css("background-color",d.colors[0>f?0:f])),d.showHint&&l.html(Math.round(a)).css("top",c-l.height()/2)):(b=this._percToPix(a),
h.css("left",b),k.css("width",b),f&&(f=Math.round(b/g)-1,k.css("background-color",d.colors[0>f?0:f])),d.showHint&&l.html(Math.round(a)).css("left",b-l.width()/2))},_pixToPerc:function(a){return this._correctValue(a*this.options._slider.ppp)},_percToPix:function(a){return 0===this.options._slider.ppp?0:a/this.options._slider.ppp},_correctValue:function(a){var b=this.options.accuracy;if(0===b)return a;if(100===a)return 100;a=Math.floor(a/b)*b+Math.round(a%b/b)*b;return 100<a?100:a},_initPoints:function(){var a=
this.options._slider,b=this.element;a.vertical?(a.offset=b.offset().top,a.length=b.height(),a.marker=b.children(".marker").height()):(a.offset=b.offset().left,a.length=b.width(),a.marker=b.children(".marker").width());a.ppp=100/(a.length-a.marker);a.start=a.marker/2;a.stop=a.length-a.marker/2},_createSlider:function(){var a=this.element,b=this.options,c,e;a.html("");c=d("<div/>").addClass("complete").appendTo(a);e=d("<a/>").addClass("marker").appendTo(a);b.showHint&&d("<span/>").addClass("hint").appendTo(a);
"default"!=b.color&&a.css("background-color",b.color);"default"!=b.completeColor&&c.css("background-color",b.completeColor);"default"!=b.markerColor&&e.css("background-color",b.markerColor)},value:function(a){return"undefined"!==typeof a?(this._placeMarker(parseInt(a)),this.options.position=parseInt(a),this.options.change(Math.round(parseInt(a)),this.element),this):Math.round(this.options.position)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=slider]").slider()});
function reinitSliders(){$("[data-role=slider]").slider()};(function(d){d.widget("metro.tabcontrol",{version:"1.0.0",options:{effect:"none",activateStoredTab:!1,tabclick:function(a){},tabchange:function(a){}},_create:function(){var a=this,b=this.element,c=d(b.children(".tabs")).children("li"),e=d(b.children(".frames")).children(".frame"),f=b.attr("id");void 0!=b.data("effect")&&(this.options.effect=b.data("effect"));this.init(c,e);c.each(function(){var b=d(this).children("a");b.on("click",function(h){h.preventDefault();a.options.tabclick(this);if(d(this).parent().hasClass("disabled"))return!1;
c.removeClass("active");b.parent("li").addClass("active");e.hide();h=d(b.attr("href"));switch(a.options.effect){case "slide":h.slideDown();break;case "fade":h.fadeIn();break;default:h.show()}a._trigger("change",null,h);a.options.tabchange(this);void 0!=f&&window.localStorage.setItem(f+"-current-tab",d(this).attr("href"))})});this.options.activateStoredTab&&this._activateStoredTab(c)},init:function(a,b){var c=this;a.each(function(){if(d(this).hasClass("active")){var a=d(d(d(this).children("a")).attr("href"));
b.hide();a.show();c._trigger("change",null,a)}})},_activateStoredTab:function(a){var b=window.localStorage.getItem(this.element.attr("id")+"-current-tab");void 0!=b&&a.each(function(){var a=d(this).children("a");a.attr("href")==b&&a.click()})},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=tab-control]").tabcontrol()});function reinitTabs(){$("[data-role=tab-control]").tabcontrol()};(function(d){d.widget("metro.tablecontrol",{version:"1.0.0",options:{width:"100%",height:"auto",cls:"table",checkRow:!1,colModel:[],data:[]},_create:function(){var a=this.element;a.css({width:this.options.width,height:this.options.height});a=this.createTable(a);this.addHeader(a,this.options.colModel);this.addTableData(a,this.options.data);a.addClass(this.options.cls)},addHeader:function(a,b){var c=d("<thead/>").appendTo(a),e=d("<tr/>").appendTo(c);d.each(b,function(a,b){d("<th/>").addClass(b.hcls).html(b.caption).appendTo(e)})},
createTable:function(a){return d("<table/>").appendTo(a)},addTableData:function(a,b){var c=this,e=d("<tbody/>").appendTo(a);d.each(b,function(a,b){c.addRowData(e,b)})},addRowData:function(a,b){var c=d("<tr/>").appendTo(a);void 0!=b.__row_class&&c.addClass(b.__row_class);d.each(this.options.colModel,function(a,f){d("<td/>").css("width",f.width).addClass(f.cls).html(b[f.field]).appendTo(c)})},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=table]").tablecontrol()});(function(d){d.widget("metro.times",{version:"1.0.0",options:{style:{background:"bg-dark",foreground:"fg-white",divider:"fg-dark"},blink:!0,alarm:{h:0,m:0,s:0},ontick:function(a,b,c){},onalarm:function(){}},wrappers:{},_interval:0,_create:function(){var a=this,b=this.element;d.each(["Hours","Minutes","Seconds"],function(){d('<span class="count'+this+'">').html('<span class="digit-wrapper">                        <span class="digit">0</span>                    </span>                    <span class="digit-wrapper">                        <span class="digit">0</span>                    </span>').appendTo(b);
"Seconds"!=this&&b.append('<span class="divider"></span>')});this.wrappers=this.element.find(".digit-wrapper");void 0!=b.data("blink")&&(this.options.blink=b.data("blick"));void 0!=b.data("styleBackground")&&(this.options.style.background=b.data("styleBackground"));void 0!=b.data("styleForeground")&&(this.options.style.foreground=b.data("styleForeground"));void 0!=b.data("styleDivider")&&(this.options.style.divider=b.data("styleDivider"));"default"!=this.options.style.background&&this.element.find(".digit").addClass(this.options.style.background);
"default"!=this.options.style.foreground&&this.element.find(".digit").addClass(this.options.style.foreground);"default"!=this.options.style.divider&&this.element.find(".divider").addClass(this.options.style.divider);if(void 0!=b.data("alarm")){var c=b.data("alarm").split(":");this.options.alarm.h=void 0!=c[0]?c[0]:0;this.options.alarm.m=void 0!=c[1]?c[1]:0;this.options.alarm.s=void 0!=c[2]?c[2]:0}b.data("onalarm");setTimeout(function(){a.tick()},1E3)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",
a,b)},tick:function(){var a=this;this._interval=setInterval(function(){var b=new Date,c,d;c=b.getHours();a.updateDuo(0,1,c);d=b.getMinutes();a.updateDuo(2,3,d);b=b.getSeconds();a.updateDuo(4,5,b);a.options.ontick(c,d,b);a.blinkDivider();var f=a.options.alarm;f&&(void 0!=f.h&&f.h==c&&void 0!=f.m&&f.m==d&&void 0!=f.s&&f.s==b)&&(a.options.onalarm(),a._trigger("alarm"))},1E3)},blinkDivider:function(){this.options.blink&&this.element.find(".divider").toggleClass("no-visible")},updateDuo:function(a,b,c){this.switchDigit(this.wrappers.eq(a),
Math.floor(c/10)%10);this.switchDigit(this.wrappers.eq(b),c%10)},switchDigit:function(a,b){var c=a.find(".digit");if(c.is(":animated")||a.data("digit")==b)return!1;a.data("digit",b);var e=d("<span>",{"class":"digit",css:{top:"-2.1em",opacity:0},html:b});e.addClass(this.options.style.background);e.addClass(this.options.style.foreground);c.before(e).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){c.remove()});e.delay(100).animate({top:0,opacity:1},"fast");return!0}})})(jQuery);
$(function(){$("[data-role=times]").times()});function reinitTimes(){$("[data-role=times]").times()};(function(d){var a=!1;d.Dialog=function(b){if(d.Dialog.opened)return a;d.Dialog.opened=!0;d.Dialog.settings=b;b=d.extend({icon:!1,title:"",content:"",flat:!1,shadow:!1,overlay:!1,width:"auto",height:"auto",position:"default",padding:!1,overlayClickClose:!0,sysButtons:{btnClose:!0},onShow:function(a){}},b);var c,e,f,g;c=d("<div/>").addClass("metro window-overlay");b.overlay&&c.css({backgroundColor:"rgba(0,0,0,.7)"});e=d("<div/>").addClass("window");b.flat&&e.addClass("flat");b.shadow&&e.addClass("shadow").css("overflow",
"hidden");f=d("<div/>").addClass("caption");g=d("<div/>").addClass("content");g.css({paddingTop:32+b.padding,paddingLeft:b.padding,paddingRight:b.padding,paddingBottom:b.padding});b.sysButtons&&(b.sysButtons.btnClose&&d("<button/>").addClass("btn-close").on("click",function(a){a.preventDefault();a.stopPropagation();d.Dialog.close()}).appendTo(f),b.sysButtons.btnMax&&d("<button/>").addClass("btn-max").on("click",function(a){a.preventDefault();a.stopPropagation()}).appendTo(f),b.sysButtons.btnMin&&
d("<button/>").addClass("btn-min").on("click",function(a){a.preventDefault();a.stopPropagation()}).appendTo(f));b.icon&&d(b.icon).addClass("icon").appendTo(f);d("<div/>").addClass("title").html(b.title).appendTo(f);g.html(b.content);f.appendTo(e);g.appendTo(e);e.appendTo(c);"auto"!=b.width&&e.css("min-width",b.width);"auto"!=b.height&&e.css("min-height",b.height);c.hide().appendTo("body").fadeIn("fast");a=e;e.css("position","fixed").css("top",(d(window).height()-a.outerHeight())/2).css("left",(d(window).width()-
e.outerWidth())/2);addTouchEvents(e[0]);if(b.draggable)f.on("mousedown",function(a){d.Dialog.drag=!0;f.css("cursor","move");var b=e.css("z-index"),c=e.outerHeight(),g=e.outerWidth(),m=e.offset().top+c-a.pageY,p=e.offset().left+g-a.pageX;e.css("z-index",99999).parents().on("mousemove",function(a){var h=0<a.pageY?a.pageY+m-c:0;a=0<a.pageX?a.pageX+p-g:0;d.Dialog.drag&&(0<=h&&h<=window.innerHeight-e.outerHeight()&&e.offset({top:h}),0<=a&&a<=window.innerWidth-e.outerWidth()&&e.offset({left:a}));e.on("mouseup",
function(){d(this).removeClass("draggable").css("z-index",b);d.Dialog.drag=!1;f.css("cursor","default")})});a.preventDefault()}).on("mouseup",function(){e.removeClass("draggable");d.Dialog.drag=!1;f.css("cursor","default")});e.on("click",function(a){a.stopPropagation()});if(b.overlayClickClose)c.on("click",function(a){a.preventDefault();d.Dialog.close()});b.onShow(a);d.Dialog.autoResize();return a};d.Dialog.content=function(b){if(!d.Dialog.opened)return!1;if(b)a.children(".content").html(b),d.Dialog.autoResize();
else return a.children(".content").html()};d.Dialog.title=function(b){if(!d.Dialog.opened)return!1;var c=a.children(".caption").children(".title");b?c.html(b):c.html()};d.Dialog.autoResize=function(){if(!d.Dialog.opened)return!1;var b=a.children(".content");console.log(b);var c=(d(window).height()-a.outerHeight())/2,e=(d(window).width()-a.outerWidth())/2;a.css({width:b.outerWidth(),height:b.outerHeight()}).css("top",c).css("left",e)};d.Dialog.close=function(){if(!d.Dialog.opened||void 0==a)return!1;
d.Dialog.opened=!1;a.parent(".window-overlay").fadeOut(function(){d(this).remove()})}})(jQuery);(function(d){var a=!1,b=[];d.Notify=function(c){c=d.extend({icon:"",caption:"",content:"",shadow:!0,width:"auto",height:"auto",style:!1,position:"right",timeout:5E3},c);var e=a||d("<div/>").addClass("metro notify-container").appendTo("body");a=e;console.log(e);if(""!=c.content&&void 0!=c.content){var f;f=d("<div/>").addClass("notify");c.shadow&&f.addClass("shadow");c.style&&void 0!=c.style.background&&f.css("background-color",c.style.background);c.style&&void 0!=c.style.color&&f.css("color",c.style.color);
""!=c.caption&&void 0!=c.caption&&d("<div/>").addClass("caption").html(c.caption).appendTo(f);""!=c.content&&void 0!=c.content&&d("<div/>").addClass("content").html(c.content).appendTo(f);"auto"!=c.width&&f.css("min-width",c.width);"auto"!=c.height&&f.css("min-height",c.height);f.hide().appendTo(e).fadeIn("slow");b.push(f);setTimeout(function(){d.Notify.close(f)},c.timeout)}};d.Notify.show=function(a,b){d.Notify({content:a,caption:b})};d.Notify.close=function(a){if(void 0==a)return!1;a.fadeOut("slow",
function(){d(this).remove();b.splice(b.indexOf(a),1)});return!0}})(jQuery);(function(d){d.widget("metro.listview",{version:"1.0.0",options:{onGroupExpand:function(a){},onGroupCollapse:function(a){},onListClick:function(a){}},_create:function(){var a=this,b=this.element;b.children(".collapsed").children(".group-content").hide();b.find(".group-title").on("click",function(b){var e=d(this).parent(".list-group"),f=e.children(".group-content");e.toggleClass("collapsed");e.hasClass("collapsed")?(f.slideUp(),a.options.onGroupCollapse(e)):(f.slideDown(),a.options.onGroupExpand(e));
b.preventDefault()});b.find(".list").on("click",function(c){b.find(".list").removeClass("active");d(this).toggleClass("active");a.options.onListClick(d(this));c.preventDefault()})},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=listview]").listview()});function reinitListViews(){$("[data-role=listview]").listview()};(function(d){d.widget("metro.treeview",{version:"1.0.0",options:{onNodeClick:function(a){},onNodeCollapsed:function(a){},onNodeExpanded:function(a){}},_create:function(){var a=this,b=this.element;b.find(".node.collapsed").find("ul").hide();b.find(".node-toggle").on("click",function(b){var e=d(this).parent().parent("li");e.hasClass("keep-open")||(e.toggleClass("collapsed"),e.hasClass("collapsed")?(e.children("ul").fadeOut("fast"),a.options.onNodeCollapsed(e)):(e.children("ul").fadeIn("fast"),a.options.onNodeExpanded(e)),
a.options.onNodeClick(e),b.preventDefault(),b.stopPropagation())});b.find("a").each(function(){var a=d(this);a.css({paddingLeft:10*(a.parents("ul").length-1)})});b.find("a").on("click",function(c){var e=d(this),f=e.parent("li");b.find("a").removeClass("active");e.toggleClass("active");a.options.onNodeClick(f);c.preventDefault()})},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=treeview]").treeview()});
function reinitTrees(){$("[data-role=treeview]").treeview()};(function(d){d.widget("metro.fluentmenu",{version:"1.0.0",options:{onSpecialClick:function(a,b){},onTabClick:function(a,b){}},_create:function(){var a=this,b=this.element,c=this.options,e=b.find(".tabs-holder > li > a");this._hidePanels();this._showPanel();e.on("click",function(e){if(d(this).parent("li").hasClass("special"))c.onSpecialClick(e,d(this));else{var g=d(d(this).attr("href"));a._hidePanels();a._showPanel(g);b.find(".tabs-holder > li").removeClass("active");d(this).parent("li").addClass("active");
c.onTabClick(e,d(this))}e.preventDefault()})},_hidePanels:function(){this.element.find(".tab-panel").hide()},_showPanel:function(a){void 0==a&&(a=this.element.find(".tabs-holder li.active a").attr("href"));d(a).show()},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=fluentmenu]").fluentmenu()});function reinitFluentMenus(){$("[data-role=fluentmenu]").fluentmenu()};(function(d){d.widget("metro.hint",{version:"1.0.0",options:{position:"bottom",_hint:void 0},_create:function(){var a=this.element,b=a.data("hint").split("|"),c=this.options,e;void 0!=a.data("hintPosition")&&(c.position=a.data("hintPosition"));var f=1<b.length?b[0]:!1,b=1<b.length?b[1]:b[0];e=d("<div/>").addClass("hint").appendTo(a.parent());f&&d("<div/>").addClass("hint-title").html(f).appendTo(e);d("<div/>").addClass("hint-text").html(b).appendTo(e);e.addClass(c.position);"top"==c.position?e.css({top:a.position().top-
e.outerHeight()-20,left:a.position().left}):"bottom"==c.position?e.css({top:a.position().top+a.outerHeight(),left:a.position().left}):"right"==c.position?e.css({top:a.position().top-10,left:a.position().left+a.outerWidth()+10}):"left"==c.position&&e.css({top:a.position().top-10,left:a.position().left-e.outerWidth()-10});a.on("mouseenter",function(a){e.fadeIn();a.preventDefault()});a.on("mouseleave",function(a){e.fadeOut();a.preventDefault()});c._hint=e},_destroy:function(){},_setOption:function(a,
b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-hint]").hint()});function reinitHints(){$("[data-hint]").hint()};(function(d){d.widget("metro.streamer",{version:"1.0.0",options:{scrollBar:!1,meter:{start:9,stop:19,interval:20},slideToGroup:1,slideToTime:"10:20",slideSleep:1E3,slideSpeed:1E3,onClick:function(a){},onLongClick:function(a){}},_create:function(){var a=this,b=this.element,c=this.options,e=b.find(".stream"),f=b.find(".event"),g=b.find(".events"),h=b.find(".events-area"),k=b.find(".event-group"),l=b.find(".event-stream");void 0!=b.data("scrollBar")&&(c.scrollBar=b.data("scrollBar"));void 0!=b.data("meterStart")&&
(c.meter.start=parseInt(b.data("meterStart")));void 0!=b.data("meterStop")&&(c.meter.stop=parseInt(b.data("meterStop")));void 0!=b.data("meterInterval")&&(c.meter.interval=b.data("meterInterval"));void 0!=b.data("slideToGroup")&&(c.slideToGroup=parseInt(b.data("slideToGroup")));void 0!=b.data("slideSleep")&&(c.slideSleep=parseInt(b.data("slideSleep")));void 0!=b.data("slideSpeed")&&(c.slideSpeed=parseInt(b.data("slideSpeed")));b.data("streamSelect",-1);var s=d("<ul/>").addClass("meter"),m,p,n,t=c.meter.stop,
u=c.meter.interval,r=[];for(m=c.meter.start;m<t;m++)for(p=0;60>p;p+=u)n=(10>m?"0"+m:m)+":"+(10>p?"0"+p:p),d("<li/>").addClass("js-interval-"+n.replace(":","-")).html("<em>"+n+"</em>").appendTo(s),r.push(n);b.data("intervals",r);s.insertBefore(b.find(".events-grid"));b.find(".event-stream").each(function(a,b){var c=0,f=d(b).find(".event");f.each(function(a,b){c+=d(b).outerWidth()});d(b).css({width:c+2*(f.length-1)+1});d(b).find(".time").css("background-color",d(e[a]).css("background-color"))});g.css({"overflow-x":c.scrollBar?
"scroll":"hidden"});b.css({height:b.find(".streams").outerHeight()+(c.scrollBar?20:0)});var q=0;k.each(function(a,b){q+=d(b).outerWidth()});q+=2*(k.length-1)+10;h.css("width",q);f.each(function(a,b){addTouchEvents(b)});f.mousedown(function(a){a.altKey&&d(this).toggleClass("selected")});b.mousewheel(function(a,b){var c=50*b;g.scrollLeft(g.scrollLeft()-c);return!1});e.each(function(a,c){d(c).mousedown(function(c){b.data("streamSelect")==a?(f.removeClass("event-disable"),b.data("streamSelect",-1)):(b.data("streamSelect",
a),f.addClass("event-disable"),d(l[a]).find(".event").removeClass("event-disable"))})});f.on("click",function(a){a.preventDefault();c.onClick(d(this))});f.on("longclick",function(a){d(this).toggleClass("selected");a.preventDefault();c.onLongClick(d(this))});b.find(".js-go-previous-time").on("click",function(d){d=b.data("intervals").indexOf(b.data("current-time"));0!=d&&(d--,d=b.data("intervals")[d],a.slideToTime(d,0,c.slideSpeed))});b.find(".js-go-next-time").on("click",function(d){d=b.data("intervals").indexOf(b.data("current-time"));
d!=b.data("intervals").length-1&&(d++,d=b.data("intervals")[d],a.slideToTime(d,0,c.slideSpeed))});b.find(".js-show-all-streams").on("click",function(a){b.find(".event").removeClass("event-disable");b.data("streamSelect",-1);a.preventDefault()});b.find(".js-schedule-mode").on("click",function(a){d(this).toggleClass("inverse");b.data("schedule-mode",d(this).hasClass("inverse"));a.preventDefault()});c.slideToTime?this.slideToTime(c.slideToTime,c.slideSleep,c.slideSpeed):this.slideToGroup(c.slideToGroup,
c.slideSleep,c.slideSpeed)},slideToTime:function(a,b,c){var d=this,f=this.element,g=f.find(".meter li.js-interval-"+a.replace(":","-"))[0],h=f.find(".streams").outerWidth()+2;setTimeout(function(){f.find(".events").animate({scrollLeft:"+="+(g.offsetLeft-h)},c,function(){d._afterSlide()})},b);f.data("current-time",a)},slideToGroup:function(a,b,c){var d=this,f=this.element,g=f.find(".event-group"),h=f.find(".streams").outerWidth()+2;setTimeout(function(){f.find(".events").animate({scrollLeft:"+="+(g[a-
1].offsetLeft-h)},c,function(){d._afterSlide()})},b)},_afterSlide:function(){},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=streamer]").streamer()});function reinitStreamers(){$("[data-role=streamer]").streamer()};(function(d){d.widget("metro.scrollbar",{version:"1.0.0",options:{height:"100%",width:"100%",axis:["x","y"],wheel:55},startSize:{width:null,height:null},elemPadding:!1,bothScroll:!1,scrollbar:null,contentHeight:0,contentWidth:0,contentMinHeight:0,contentMinWidth:0,dragElem:null,dragStart:!1,startCoords:{x:0,y:0},currCoords:{x:0,y:0},handlers:!1,_create:function(){var a=this.element,b=this;if(void 0!=a.data("scroll")){var c=a.data("scroll");"vertical"==c&&(this.options.axis="y");"horizontal"==c&&(this.options.axis=
"x");"both"==c&&(this.options.axis=["x","y"])}void 0!=a.data("height")&&(this.options.height=a.data("height"));void 0!=a.data("width")&&(this.options.width=a.data("width"));void 0!=a.data("wheel")&&(this.options.wheel=a.data("wheel"));a.css({position:"relative"});var c=a.outerWidth(),e=a.outerHeight();this.contentMinWidth=c;this.contentMinHeight=e;this.startSize.width=this.options.width;this.startSize.height=this.options.height;var f=this.startSize.width==parseInt(this.startSize.width)?this.startSize.width+
"px":this.startSize.width,g=this.startSize.height==parseInt(this.startSize.height)?this.startSize.height+"px":this.startSize.height;a.wrap('<div class="scrollbar" style="width: '+f+"; height: "+g+';"></div>');this.scrollbar=a.parents(".scrollbar").first();this.scrollbar.parents().first().css({overflow:"hidden"});this._build(c,e);d(window).resize(function(){b._resize()})},_resize:function(){var a=this.element;if(!isNaN(parseInt(this.element.css("left")))&&0!=parseInt(this.element.css("left"))||!isNaN(parseInt(this.element.css("top")))&&
parseInt(this.element.css("top"))){var b=Math.abs(parseInt(this.element.css("left"))),c=Math.abs(parseInt(this.element.css("top"))),d=this.scrollbar.width(),f=this.scrollbar.height();this.contentWidth-b<d&&(b-=d-(this.contentWidth-b),0>b&&(b=0),this.element.css("left",-1*b));this.element.css("left",-1*b);this.contentHeight-c<f&&(c-=f-(this.contentHeight-c),0>c&&(c=0),this.element.css("top",-1*c))}this.options.width=this.startSize.width;this.options.height=this.startSize.height;this.scrollbar.css({padding:0});
this.elemPadding&&(this.element.css({paddingRight:"-=5",paddingBottom:"-=5"}),this.elemPadding=!1);0<this.scrollbar.find(".scrollbar-v").length&&this.scrollbar.find(".scrollbar-v").remove();0<this.scrollbar.find(".scrollbar-h").length&&this.scrollbar.find(".scrollbar-h").remove();0<this.scrollbar.find(".scrollbar-both").length&&this.scrollbar.find(".scrollbar-both").remove();b=a.outerWidth();a=a.outerHeight();this.contentWidth=b;this.contentHeight=a;this._removeHandlers();this._build(b,a)},_build:function(a,
b){var c=this.element;this.options.width="100%"==this.options.width?this.scrollbar.outerWidth():this.options.width;this.options.height="100%"==this.options.height?this.scrollbar.outerHeight():this.options.height;this.scrollbar.css({width:this.startSize.width,height:this.startSize.height});this.contentWidth=a;this.contentHeight=b;"y"==this.options.axis?this.contentHeight>this.options.height?(this.scrollbar.css({paddingRight:20,paddingBottom:0}),a=c.outerWidth(),b=c.outerHeight(),this.contentWidth=
a,this.contentHeight=b,this._verticalScrollbar(),this._startHandlers()):(0<this.scrollbar.find(".scrollbar-v").length&&this.scrollbar.find(".scrollbar-v").hide(),this.scrollbar.css({paddingRight:0,paddingBottom:0})):"x"==this.options.axis?this.contentWidth>this.options.width?("100%"==this.startSize.height&&(this.scrollbar.css({paddingBottom:20,paddingRight:0}),a=c.outerWidth(),b=c.outerHeight(),this.contentWidth=a,this.contentHeight=b),this._horizontalScrollbar(),this._startHandlers()):(0<this.scrollbar.find(".scrollbar-h").length&&
this.scrollbar.find(".scrollbar-h").hide(),this.scrollbar.css({paddingBottom:0,paddingRight:0})):this.contentHeight>this.options.height&&this.contentWidth>this.options.width?(this.bothScroll=!0,0<this.scrollbar.find(".scrollbar-both").length?this.scrollbar.find(".scrollbar-both").show():this.scrollbar.append('<div class="scrollbar-both"></div>'),this.elemPadding||(this.element.css({paddingRight:"+=5",paddingBottom:"+=5"}),this.elemPadding=!0),a=c.outerWidth(),b=c.outerHeight(),this.contentWidth=a,
this.contentHeight=b,this._verticalScrollbar(),this._horizontalScrollbar(),this._startHandlers()):(this.bothScroll=!1,0<this.scrollbar.find(".scrollbar-both").length&&this.scrollbar.find(".scrollbar-both").hide(),this.elemPadding&&(this.element.css({paddingRight:"-=5",paddingBottom:"-=5"}),this.elemPadding=!1),this.contentWidth>this.options.width?("100%"==this.startSize.height&&(this.scrollbar.css({paddingBottom:20,paddingRight:0}),a=c.outerWidth(),b=c.outerHeight(),this.contentWidth=a,this.contentHeight=
b),this._horizontalScrollbar(),this._startHandlers()):(0<this.scrollbar.find(".scrollbar-h").length&&this.scrollbar.find(".scrollbar-h").hide(),this.scrollbar.css({paddingBottom:0,paddingRight:0})),this.contentHeight>this.options.height?(this.scrollbar.css({paddingRight:20,paddingBottom:0}),a=c.outerWidth(),b=c.outerHeight(),this.contentWidth=a,this.contentHeight=b,this._verticalScrollbar(),this._startHandlers()):(0<this.scrollbar.find(".scrollbar-v").length&&this.scrollbar.find(".scrollbar-v").hide(),
this.scrollbar.css({paddingRight:0,paddingBottom:0})))},_verticalScrollbar:function(){if(1>this.scrollbar.find(".scrollbar-v").length){var a=[];a[a.length]='<div class="scrollbar-v">';a[a.length]='<div class="scrollbar-v-up"></div>';a[a.length]='<div class="scrollbar-v-down"></div>';a[a.length]='<div class="scrollbar-line-v">';a[a.length]='<div class="scrollbar-line-v-btn"></div>';a[a.length]="</div>";a[a.length]="</div>";a=a.join("");this.scrollbar.append(a)}else this.scrollbar.find(".scrollbar-v").show();
var b=this.scrollbar.find(".scrollbar-line-v"),a=this.scrollbar.find(".scrollbar-line-v-btn"),c=this.scrollbar.find(".scrollbar-v");if(this.bothScroll){c.height(this.options.height);var d=c.height()-15;this.options.height=d;c.height(d)}else c.height(this.options.height);c=this.options.height-32;d=c/this.contentHeight;b.height(c);d>=(this.contentHeight-32)/this.contentHeight?a.hide():(b=d*this.options.height,a.show().height(b))},_horizontalScrollbar:function(){if(1>this.scrollbar.find(".scrollbar-h").length){var a=
[];a[a.length]='<div class="scrollbar-h">';a[a.length]='<div class="scrollbar-h-up"></div>';a[a.length]='<div class="scrollbar-h-down"></div>';a[a.length]='<div class="scrollbar-line-h">';a[a.length]='<div class="scrollbar-line-h-btn"></div>';a[a.length]="</div>";a[a.length]="</div>";a=a.join("");this.scrollbar.append(a)}else this.scrollbar.find(".scrollbar-h").show();var a=this.scrollbar.find(".scrollbar-line-h"),b=this.scrollbar.find(".scrollbar-line-h-btn"),c=this.scrollbar.find(".scrollbar-h");
if(this.bothScroll){c.width(this.options.width);var d=c.width()-15;this.options.width=d;c.width(d)}else c.width(this.options.width);var c=this.options.width-32,d=c/this.contentWidth,f=d*this.options.width,g=isNaN(parseInt(this.element.css("left")))?0:parseInt(this.element.css("left")),g=Math.abs(g)*d;a.width(c);d>=(this.contentWidth-32)/this.contentWidth?b.hide():b.show().width(f).css({left:g})},_startHandlers:function(){if(this.handlers)return!1;this.handlers=!0;var a=this;d(document).mousemove(function(b){a._drag(b)});
d(document).mouseup(function(b){a._dragEnd(b)});this.scrollbar.find(".scrollbar-line-v-btn,.scrollbar-line-h-btn").on("mousedown",function(b){a._dragStart(b,d(this))});this.scrollbar.find(".scrollbar-line-v,.scrollbar-line-h").on("click",function(b){a._clickPos(b,d(this))});this.scrollbar.find(".scrollbar-v-up,.scrollbar-h-up").on("click",function(b){a._fixScroll(1,d(this))});this.scrollbar.find(".scrollbar-v-down,.scrollbar-h-down").on("click",function(b){a._fixScroll(-1,d(this))});this.scrollbar.mousewheel(function(b,
c){a._fixScroll(c);return!1})},_removeHandlers:function(){if(!this.handlers)return!1;this.handlers=!1;d(document).mousemove(function(a){return!1});d(document).mouseup(function(a){return!1});this.scrollbar.find(".scrollbar-line-v-btn,.scrollbar-line-h-btn").off("mousedown");this.scrollbar.find(".scrollbar-line-v,.scrollbar-line-h").off("click");this.scrollbar.find(".scrollbar-v-up,.scrollbar-h-up").off("click");this.scrollbar.find(".scrollbar-v-down,.scrollbar-h-down").off("click")},_clickPos:function(a,
b){if("scrollbar-line-v"==d(a.target).attr("class")||"scrollbar-line-h"==d(a.target).attr("class")){var c=b.offset();if("scrollbar-line-v"==d(a.target).attr("class")){var e=a.pageY-c.top,f=b.find(".scrollbar-line-v-btn");this.dragElem={elem:f,width:f.width(),height:f.height(),parent:b,parentWidth:b.width(),parentHeight:b.height(),parentOffset:c};this._scrollTo(0,e,"y")}else e=a.pageX-c.left,f=b.find(".scrollbar-line-h-btn"),this.dragElem={elem:f,width:f.width(),height:f.height(),parent:b,parentWidth:b.width(),
parentHeight:b.height(),parentOffset:c},this._scrollTo(e,0,"x");this.dragElem=null}},_fixScroll:function(a,b){var c,d,f,g=this.options.wheel;if(void 0!==b&&(b.hasClass("scrollbar-h-up")||b.hasClass("scrollbar-h-down"))||"x"==this.options.axis||"x"!=this.options.axis&&"y"!=this.options.axis&&1>this.scrollbar.find(".scrollbar-v").length){var h=100*(g/this.contentWidth);d=(this.options.width-32)/100*h;h=parseInt(this.element.css("left"));f=isNaN(h)?0:Math.abs(h);h=this.scrollbar.find(".scrollbar-line-h-btn");
c=this.scrollbar.find(".scrollbar-line-h");var k=parseFloat(h.css("left")),k=isNaN(k)?0:k;0<a?(g=f-g,f=k-d):(g=f+g,f=k+d);0>g&&(g=0);g>this.contentWidth-this.options.width&&(g=this.contentWidth-this.options.width);d=c.width();c.height();c=h.width();h.height();0>f&&(f=0);f+c>d&&(f=d-c);this.element.css({left:-1*g});h.css({left:f})}else h=100*(g/this.contentHeight),d=(this.options.height-32)/100*h,h=parseInt(this.element.css("top")),f=isNaN(h)?0:Math.abs(h),h=this.scrollbar.find(".scrollbar-line-v-btn"),
c=this.scrollbar.find(".scrollbar-line-v"),k=parseFloat(h.css("top")),k=isNaN(k)?0:k,0<a?(g=f-g,d=k-d):(g=f+g,d=k+d),0>g&&(g=0),g>this.contentHeight-this.options.height&&(g=this.contentHeight-this.options.height),c.width(),f=c.height(),h.width(),c=h.height(),0>d&&(d=0),d+c>f&&(d=f-c),this.element.css({top:-1*g}),h.css({top:d})},_scrollTo:function(a,b,c){"x"==c?(c=(this.options.width-32)/this.contentWidth,b=a/c,0>b&&(b=0),b>this.contentWidth-this.options.width&&(b=this.contentWidth-this.options.width),
0>a&&(a=0),a>this.dragElem.parentWidth-this.dragElem.width&&(a=this.dragElem.parentWidth-this.dragElem.width),this.dragElem.elem.css({left:a}),this.element.css({left:-1*b})):(c=(this.options.height-32)/this.contentHeight,a=b/c,0>a&&(a=0),a>this.contentHeight-this.options.height&&(a=this.contentHeight-this.options.height),0>b&&(b=0),b>this.dragElem.parentHeight-this.dragElem.height&&(b=this.dragElem.parentHeight-this.dragElem.height),this.dragElem.elem.css({top:b}),this.element.css({top:-1*a}))},_scroll:function(){if(this.dragElem.elem.hasClass("scrollbar-line-h-btn")){var a=
(this.options.width-32)/this.contentWidth,b=parseInt(this.dragElem.elem.css("left")),a=(isNaN(b)?0:Math.abs(b))/a;0>a&&(a=0);a>this.contentWidth-this.options.width&&(a=this.contentWidth-this.options.width);this.element.css({left:-1*a})}else a=(this.options.height-32)/this.contentHeight,b=parseInt(this.dragElem.elem.css("top")),a=(isNaN(b)?0:Math.abs(b))/a,0>a&&(a=0),a>this.contentHeight-this.options.height&&(a=this.contentHeight-this.options.height),this.element.css({top:-1*a})},_startCoordsDiff:function(a){var b=
this.dragElem.elem.offset();this.startCoords.x=a.pageX-b.left;this.startCoords.y=a.pageY-b.top},_dragStart:function(a,b){var c=b.parents().first();this.dragElem={elem:b,width:b.width(),height:b.height(),parent:c,parentWidth:c.width(),parentHeight:c.height(),parentOffset:c.offset()};this.dragStart=!0;this.currCoords.x=a.pageX;this.currCoords.y=a.pageY;this._startCoordsDiff(a)},_drag:function(a){if(this.dragStart){this.currCoords.x=a.pageX;this.currCoords.y=a.pageY;a=this.currCoords.x-this.startCoords.x-
this.dragElem.parentOffset.left;var b=this.currCoords.y-this.startCoords.y-this.dragElem.parentOffset.top;0>a&&(a=0);a+this.dragElem.width>=this.dragElem.parentWidth&&(a=this.dragElem.parentWidth-this.dragElem.width);0>b&&(b=0);b+this.dragElem.height>this.dragElem.parentHeight&&(b=this.dragElem.parentHeight-this.dragElem.height);this.dragElem.elem.css({left:a,top:b});this._scroll()}},_dragEnd:function(a){this.dragStart&&(this.dragElem=null,this.dragStart=!1,this.startCoords.x=0,this.startCoords.y=
0,this.currCoords.x=null,this.currCoords.y=null)},_destroy:function(){},_setOption:function(a,b){this._super("_setOption",a,b)}})})(jQuery);$(function(){$("[data-role=scrollbox]").scrollbar()});
